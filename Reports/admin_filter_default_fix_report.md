# Отчет: Исправление фильтров по умолчанию в админке

## Описание проблемы
В админских страницах резерваций и аренд фильтр по статусу по умолчанию был сброшен, что показывало все записи вместо только активных.

## Внесенные изменения

### 1. Обновление `orderFilterStore.ts`
- Добавлена функция `getDefaultStatusFilter()` для определения фильтра по умолчанию в зависимости от контекста
- Для админских контекстов (`admin-reservations`, `admin-rentals`) по умолчанию устанавливается фильтр `"active"`
- Для пользовательских контекстов остается фильтр `"hide-completed"`
- Обновлена функция `resetFilters()` для поддержки контекста

### 2. Обновление `OrderToolbar.tsx`
- Добавлен `useEffect` для инициализации фильтра по умолчанию при загрузке компонента
- Обновлена логика селекта для использования правильного значения по умолчанию
- Добавлен импорт `useEffect` из React

## Технические детали

### Логика фильтрации по умолчанию:
```typescript
getDefaultStatusFilter: (context: OrderContext) => {
    // Для админских страниц по умолчанию показываем только активные
    if (context === "admin-reservations" || context === "admin-rentals") {
        return "active"
    }
    // Для пользовательских страниц скрываем завершенные
    return "hide-completed"
}
```

### Инициализация в компоненте:
```typescript
useEffect(() => {
    const defaultFilter = getDefaultStatusFilter(context)
    // Устанавливаем фильтр по умолчанию только если текущий фильтр не установлен или равен "hide-completed"
    if (!statusFilter || statusFilter === "hide-completed") {
        setStatusFilter(defaultFilter)
    }
}, [context, statusFilter, setStatusFilter, getDefaultStatusFilter])
```

## Результат
- ✅ Админские страницы резерваций теперь по умолчанию показывают только активные резервы
- ✅ Админские страницы аренд теперь по умолчанию показывают только активные аренды
- ✅ Пользовательские страницы продолжают работать как прежде (скрывают завершенные)
- ✅ Сохранена обратная совместимость

## Файлы изменены:
1. `rental-app-main/src/store/orderFilterStore.ts`
2. `rental-app-main/src/components/shared/OrderToolbar.tsx`

## Тестирование
- ✅ Линтер не выявил ошибок
- ✅ Запущены dev-серверы для тестирования
- ✅ Изменения протестированы в браузере

## Дата: 2024-12-19
## Статус: Завершено
